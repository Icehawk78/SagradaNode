<script>
    current_die = {
        color: null,
        pips: null
    };
    function select_die(color, pips) {
        current_die.color = color;
        current_die.pips = pips;
    }
    function place_die(x, y) {
        $.post('board/die', {die: current_die, x: x, y: y}, (res) => console.log(res));
    }
</script>
<table>
    {{#each board.rows as |row x|}}
        <tr>
            {{#each row as |cell y|}}
                <td style="width: 50px; height: 50px; border: 1px black solid; background-color: {{cell.die.color}}; color: white; text-align: center" onclick="place_die({{x}}, {{y}})">{{cell.die.pips}}</td>
            {{/each}}
        </tr>
    {{/each}}
</table>
<div>
    {{#each board.all_colors as |color index|}}
        {{#each ../board.all_pips as |pip index|}}
            <a href="#" style="color: {{color}}" onclick="select_die('{{color}}', {{pip}})">{{pip}}</a>
        {{/each}}
    {{/each}}
</div>